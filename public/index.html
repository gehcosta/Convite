<!doctype html>
<html class="no-js" lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Convite de Casamento G&B</title>
  <link rel="stylesheet" href="css/index.css">
  <meta name="description" content="Convite de casamento Geovanne & Bruna">

  <meta property="og:title" content="Convite de casamento Geovanne & Bruna">
  <meta property="og:description" content="Convite de casamento Geovanne & Bruna">
  <meta property="og:type" content="website">
  <meta property="og:url" content="gehcosta.com.br">
  <meta property="og:image" content="https://i.ibb.co/844B3dt/bg-photo-large-png.jpg">
  <meta property="og:image:type" content="image/jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="theme-color" content="#fafafa">

  <link rel="icon" href="img/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="img/icon.png">
</head>

<body class="bodyConvite">
<section class="frame">
  <img class="names" src="img/names.png" alt="Nomes Bruna e Geovanne">

  <h2 class="subtitle">Com muita alegria, convidamos <span id="convidadoNome"></span> para celebrar conosco um dia muito especial!</h2>
  <p class="text">Agradecemos a Deus, que tem nos guiado com seu amor e bênçãos até este momento. Ele tem sido o alicerce de nossa união e é com gratidão que daremos o próximo passo em nossa caminhada juntos.</p>
  <p class="text">Será um dia repleto de felicidade, risos e, acima de tudo, de gratidão por tudo o que Ele tem nos proporcionado.</p>
  <p class="text">Esperamos você para compartilharmos essa alegria e celebrar o amor que Ele nos deu!</p>
  <p class="text date">Dia <strong>25 de janeiro de 2025</strong> às <strong>14:00h</strong></p>
  <p class="text date">Na Chácara <em>de Boa na Lagoa</em></p>

  <div class="buttonsContainer">
    <button class="button" id="confirmButton" title="Confirmar presença" aria-label="Confirmar presença" onclick="inserirConvidado()">
      <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#e8eaed"><path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"/></svg>
    </button>

    <a class="button" id="mapButton" rel="noopener noreferrer" title="Ver localização" aria-label="Ver localização">
      <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#e8eaed">
        <path d="m600-120-240-84-186 72q-20 8-37-4.5T120-170v-560q0-13 7.5-23t20.5-15l212-72 240 84 186-72q20-8 37 4.5t17 33.5v560q0 13-7.5 23T812-192l-212 72Zm-40-98v-468l-160-56v468l160 56Zm80 0 120-40v-474l-120 46v468Zm-440-10 120-46v-468l-120 40v474Zm440-458v468-468Zm-320-56v468-468Z"/>
      </svg>
    </a>

    <a class="button"  href="PIX.html" rel="noopener noreferrer" title="Chave PIX" aria-label="Chave PIX">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="30" height="30" baseProfile="basic"><path fill="#e8eaed" d="M11.9,12h-0.68l8.04-8.04c2.62-2.61,6.86-2.61,9.48,0L36.78,12H36.1c-1.6,0-3.11,0.62-4.24,1.76 l-6.8,6.77c-0.59,0.59-1.53,0.59-2.12,0l-6.8-6.77C15.01,12.62,13.5,12,11.9,12z"/><path fill="#e8eaed" d="M36.1,36h0.68l-8.04,8.04c-2.62,2.61-6.86,2.61-9.48,0L11.22,36h0.68c1.6,0,3.11-0.62,4.24-1.76 l6.8-6.77c0.59-0.59,1.53-0.59,2.12,0l6.8,6.77C32.99,35.38,34.5,36,36.1,36z"/><path fill="#e8eaed" d="M44.04,28.74L38.78,34H36.1c-1.07,0-2.07-0.42-2.83-1.17l-6.8-6.78c-1.36-1.36-3.58-1.36-4.94,0 l-6.8,6.78C13.97,33.58,12.97,34,11.9,34H9.22l-5.26-5.26c-2.61-2.62-2.61-6.86,0-9.48L9.22,14h2.68c1.07,0,2.07,0.42,2.83,1.17 l6.8,6.78c0.68,0.68,1.58,1.02,2.47,1.02s1.79-0.34,2.47-1.02l6.8-6.78C34.03,14.42,35.03,14,36.1,14h2.68l5.26,5.26 C46.65,21.88,46.65,26.12,44.04,28.74z"/></svg>
    </a>
  </div>
</section>

<script>
  // Lista de convidados e textos associados
  const convidados = {
    "Eriel&Eliene": "Eriel e Eliene",
    "Andreia": "Andréia",
    "Gilvan": "Gilvan",
    "Leo&Kathy": "Léo e Kathy",
    "Kedy&Nicolly": "Kedy e Nicolly",
    "Jamil&Fabi": "Jamil e Fabi",
    "Matheus": "Matheus",
    "Juliana&Jhon": "Juliana, Jhon e crianças",
    "Joaquim&Maria": "Joaquim e Maria",
    "Lucas&Juliana": "Lucas, Juliana e filinha",
    "Silvana&Josue": "Silvana, Josué e Thiago",
    "Denner": "Denner",
    "Felipe&Andressa": "Felipe, Andressa e filinho",
    "Gustavo": "Gustavo",
    "Everson&Isabelle": "Everson e Isabelle",
    "Cleo": "Cléo e Família",
    "Anselmo": "Anselmo",
    "Anderson": "Anderson",
    "Gerson": "Gerson",
    "Elias": "Elias e Araci",
    "Marquinhos": "Marquinhos e esposa",
    "Ana": "Ana e Léo",
    "Miriam": "Miriam",
    "Nidi": "Nidi",
    "Caique": "Caique e esposa",
    "Vinicius": "Vinícius e esposa",
    "Alice": "Alice e Michelle",
    "Paulo&Yasmin": "Paulo e Yasmin",
    "Rute": "Rute e família",
    "Irineu": "Irineu e família",
    "Roberto": "Sr. Roberto",
    "Oslain&Eliani": "Oslain e Eliani"
  };

  const urlParams = window.location.pathname.split('/');
  const convidadoNome = urlParams[urlParams.length - 1];

  const elementoConvidado = document.getElementById("convidadoNome");
  if (convidados[convidadoNome]) {
    elementoConvidado.textContent = convidados[convidadoNome];
  } else {
    elementoConvidado.textContent = "você";
  }
  
  document.getElementById("mapButton").addEventListener("click", function (event) {
    event.preventDefault(); // Previne o comportamento padrão de navegação

    let userAgent = navigator.userAgent || navigator.vendor || window.opera;
    let latitude = -23.778833;
    let longitude = -46.589000;
    let label = "Chácara de Boa na Lagoa";

    if (/android/i.test(userAgent)) {
      window.location.href = `geo:${latitude},${longitude}?q=${encodeURIComponent(label)}`;
    } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
      let mapUrl = `https://maps.apple.com/?ll=${latitude},${longitude}&q=${encodeURIComponent(label)}`;
      window.location.href = mapUrl;
    } else {
      let mapUrl = `https://www.google.com/maps?q=${latitude},${longitude}&q=${encodeURIComponent(label)}`;
      window.open(mapUrl, "_blank");
    }
  });


  
  function  inserirConvidado() {
    let resultado = confirm("Deseja confirmar sua presença?");
    if (resultado) {

      const urlString = window.location.href; // Obtém a URL completa
      const nomePessoa = urlString.split('/').pop(); // Extrai o nome da URL
      // Defina a variável nome com o valor desejado
      fetch('https://hdududtiepinbxrajofh.supabase.co/rest/v1/pessoas', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkdWR1ZHRpZXBpbmJ4cmFqb2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ3MzI1NDUsImV4cCI6MjA1MDMwODU0NX0.y3NB_yi95Xz5kx_-BVo8alKon16vmxu8m8w5uSqRQlI'
        },
        body: JSON.stringify([
          {Nome: nomePessoa} // Usando a variável nomePessoa aqui
        ])
      })
              .then(res => {
                if (!res.ok) {
                  throw new Error('Erro na inserção');
                }

                // Requisição para pegar os dados inseridos
                return fetch('https://hdududtiepinbxrajofh.supabase.co/rest/v1/pessoas', {
                  headers: {
                    'Content-Type': 'application/json',
                    'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkdWR1ZHRpZXBpbmJ4cmFqb2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ3MzI1NDUsImV4cCI6MjA1MDMwODU0NX0.y3NB_yi95Xz5kx_-BVo8alKon16vmxu8m8w5uSqRQlI'
                  }
                });
              })

              .then(response => {
                if (response.ok) {
                  alert("Presença confirmada!");
                } else {
                  alert("Ocorreu um erro!");
                }
              })
              .catch(error => {
                console.error('Erro:', error);
              })
    }
  }
</script>

</body>
</html>
